<?xml version="1.0" encoding="utf-8" ?>
<Defs>

<!--
	Item Data
	- Medicine 18
	- Packaged Survival Meal 24
	- Component 32
	- Advanced Component 200
	- Steel 1.9
	- Chemfuel 2.3
 -->
	
<!--
	Value Range
	- 
 -->

  <ThingSetMakerDef>
    <defName>Reward_AncientSealedCrate_Shells</defName>
    <root Class="ThingSetMaker_RandomOption">
      <options>

        <!-- Shells -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Shell_EMP</li>
                  <li>Shell_HighExplosive</li>
                  <li>Shell_Incendiary</li>
                  <li>Shell_Smoke</li>
                  <li MayRequire="Ludeon.RimWorld.Biotech">Shell_Toxic</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">Shell_Deadlife</li>
                </thingDefs>
              </filter>
              <countRange>2~5</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

      </options>
    </root>
  </ThingSetMakerDef>
	
        <!-- Note: Ancient Sealed Container seems to be essentially a Security Crate -->

  <ThingSetMakerDef>
    <defName>Reward_AncientSealedContainer</defName>
    <root Class="ThingSetMaker_RandomOption">
      <options>

        <!-- Special Rewards -->
        <!-- Note: Replaces Orbital device Loot Table -->
        <li>
          <weight>2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Apparel_PsychicInsanityLance</li>
                  <li>Apparel_PsychicShockLance</li>
                  <li>MechSerumHealer</li>
                  <li>MechSerumResurrector</li>
                  <li>OrbitalTargeterBombardment</li>
                  <li>OrbitalTargeterPowerBeam</li>
                  <li>PsychicAnimalPulser</li>
                  <li>PsychicEmanator</li>
                  <li>PsychicSoothePulser</li>
				  <li>ReinforcedBarrel</li>
                  <li>Shell_AntigrainWarhead</li>
                  <li>TechprofSubpersonaCore</li>
                  <li>TornadoGenerator</li>
                  <li>VanometricPowerCell</li>
                  <li MayRequire="Ludeon.RimWorld.Royalty">OrbitalTargeterMechCluster</li>
                  <li MayRequire="Ludeon.RimWorld.Biotech">DeathrestCapacitySerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">BiomutationPulser</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">Apparel_BiomutationLance</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

        <!-- Unique weapon -->
        <li>
          <weight>2</weight>
          <thingSetMaker Class="ThingSetMaker_Count">
            <fixedParams>
              <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingSetMakerTagsToAllow>
                  <li>UniqueWeapon</li>
                </thingSetMakerTagsToAllow>
              </filter>
			  <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

        <!-- Gravship upgrades -->
        <li>
          <weight>1.5</weight>
          <thingSetMaker Class="ThingSetMaker_Count">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>GravshipShieldGenerator</li>
                  <li>PilotSubpersonaCore</li>
                  <li>FuelOptimizer</li>
                </thingDefs>
              </filter>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Techprint -->
        <li>
          <weight>1</weight> 
          <thingSetMaker Class="ThingSetMaker_Count">
            <fixedParams>
              <filter>
                <thingSetMakerTagsToAllow>
                  <li>Techprint</li>
                </thingSetMakerTagsToAllow>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Seeds -->
        <li MayRequireAnyOf="Ludeon.RimWorld.Biotech,Ludeon.RimWorld.Anomaly,Ludeon.RimWorld.Odyssey">
          <weight>0.55</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Biotech">PoluxSeed</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">HarbingerSeed</li>
                  <li MayRequire="Ludeon.RimWorld.Odyssey">ArcheanSeed</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Serums -->
        <li>
          <weight>0.35</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">VoidsightSerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">MetalbloodSerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">JuggernautSerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">MindNumbSerum</li>
                </thingDefs>
              </filter>
              <countRange>3~4</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
  		<!-- Shard -->
        <li MayRequire="Ludeon.RimWorld.Anomaly">
          <weight>0.05</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">Shard</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Books -->
        <li>
          <weight>0.8</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">Tome</li>
				  <li>TextBook</li>
				  <li>Schematic</li>
				  <li>Novel</li>
                </thingDefs>
              </filter>
              <countRange>3</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Alpha Books -->
        <li MayRequire="sarg.alphabooks">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <categories>
                  <li>Books</li>
                </categories>
                <disallowedThingDefs>
                  <li>ABooks_RuinedBook</li>
                  <li>ABooks_BurnedBook</li>
                </disallowedThingDefs>
              </filter>
              <countRange>3</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
		<!-- Art -->
        <li>
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingDefs>
				  <li>SculptureSmall</li>
				  <li>SculptureLarge</li>
                </thingDefs>
				<disallowCheaperThan>100</disallowCheaperThan>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Neurotrainer -->
        <li>
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Neurotrainer_Shooting</li>
                  <li>Neurotrainer_Melee</li>
                  <li>Neurotrainer_Construction</li>
                  <li>Neurotrainer_Mining</li>
                  <li>Neurotrainer_Cooking</li>
                  <li>Neurotrainer_Plants</li>
                  <li>Neurotrainer_Animals</li>
                  <li>Neurotrainer_Crafting</li>
                  <li>Neurotrainer_Artistic</li>
                  <li>Neurotrainer_Medicine</li>
                  <li>Neurotrainer_Social</li>
                  <li>Neurotrainer_Intellectual</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Bionics -->		  
        <li>
          <weight>0.25</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <categories>
                  <li>BodyPartsUltra</li>
                  <li>BodyPartsArchotech</li>
                </categories>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
              <!-- Note: Weights must be balanced against the number of items in each category -->

              <!-- A category for core vanilla rewards, which should remain undilluted by future DLCs -->
              <li>
                <weight>0.75</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardCore</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
              		<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
              <!-- Three tiers of misc items, with different preference levels --> 
              <li>
                <weight>1.25</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardHighFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
              		<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
              <li>
                <weight>0.63</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardMidFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
					<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
              <li>
                <weight>0.25</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardLowFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
					<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
              <!-- Special royal items -->
              <!-- Most factions can't make these, so if we're using a faction that can we want
                   the probability of using them to be high. In addition, Empire usually gives
                   honor so if they're giving items we want it to be one of their special
                   items. -->
              <li MayRequire="Ludeon.RimWorld.Royalty">
                <weight>0.5</weight> 
                  <thingSetMaker Class="ThingSetMaker_Count">
                    <fixedParams>
                      <qualityGenerator>Super</qualityGenerator>
                      <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                      <filter>
                        <thingSetMakerTagsToAllow>
                          <li>ImplantEmpireRoyal</li>
                          <li>WeaponBladelink</li>
                        </thingSetMakerTagsToAllow>
                        <thingSetMakerTagsToDisallow>
                          <li>RewardNonEmpireFactionsOnly</li>
                        </thingSetMakerTagsToDisallow>
                        <tradeTagsToAllow>
                          <li>PsychicWeapon</li>
                          <li>PsychicApparel</li>
                        </tradeTagsToAllow>
                      </filter>
					  <countRange>1</countRange>
                    </fixedParams>
                  </thingSetMaker>
              </li>
		  
        <!-- Psylink Amplifier -->
        <li MayRequire="Ludeon.RimWorld.Royalty">
          <weight>0.25</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>PsychicAmplifier</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Psytrainers -->
        <li MayRequire="Ludeon.RimWorld.Royalty">
          <weight>0.25</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <categories>
                  <li>NeurotrainersPsycast</li>
                </categories>
              </filter>
              <countRange>3</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Mechinator Stuff -->
        <li MayRequire="Ludeon.RimWorld.Biotech">
          <weight>0.25</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Mechlink</li>
                  <li>ControlSublink</li>
                  <li>ControlSublinkHigh</li>
                  <li>RemoteRepairer</li>
                  <li>MechFormfeeder</li>
                  <li>RemoteShielder</li>
                  <li>RepairProbe</li>
                  <li>SignalChip</li>
                  <li>PowerfocusChip</li>
				  <li>NanostructuringChip</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Genepacks -->
        <li MayRequire="Ludeon.RimWorld.Biotech">
          <weight>0.25</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>ArchiteCapsule</li>
                </thingDefs>
              </filter>
              <countRange>3~5</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Research Appropriation -->
        <li MayRequire="GarryFlowers.ResearchAppropriation">
          <weight>0.25</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
				  <li>GarryFlowers_UltraResearchData</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Vanilla Brewing Expanded -->
        <li MayRequire="VanillaExpanded.VBrewE">
          <weight>0.25</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingDefs>
				  <li>VBE_Ambrandy</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

      </options>
    </root>
  </ThingSetMakerDef>
	
        <!--
			Note: Ancient Safe seems to be essentially High Value Crate
				Maps should have the same weight as every other table combined but divide it by 2 since we're giving 2 maps
		-->

  <ThingSetMakerDef>
    <defName>Reward_AncientSafe</defName>
    <root Class="ThingSetMaker_RandomOption">
      <options>

        <!-- Seeds -->
        <li MayRequireAnyOf="Ludeon.RimWorld.Biotech,Ludeon.RimWorld.Anomaly,Ludeon.RimWorld.Odyssey">
          <weight>0.4</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Biotech">PoluxSeed</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">HarbingerSeed</li>
                  <li MayRequire="Ludeon.RimWorld.Odyssey">ArcheanSeed</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>  

        <!-- Map -->
        <li MayRequire="Ludeon.RimWorld.Odyssey">
          <weight>5</weight>
          <thingSetMaker Class="ThingSetMaker_Count">
            <fixedParams>
              <qualityGenerator>Reward</qualityGenerator>
              <filter>
                <thingDefs>
                  <li>Map</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- High Value Drugs -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
				  <li>GoJuice</li>
                  <li>Luciferium</li>
                  <li MayRequire="VanillaExpanded.VBrewE">VBE_DoubleWhiskey</li>
                </thingDefs>
              </filter>
              <countRange>6~12</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Luciferium -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
				  <li>Luciferium</li>
                </thingDefs>
              </filter>
              <countRange>6~12</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Gold -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Gold</li>
                </thingDefs>
              </filter>
              <countRange>40~80</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Hyperweave -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Hyperweave</li>
                </thingDefs>
              </filter>
              <countRange>50~100</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Eltex -->
        <li MayRequire="VanillaExpanded.VPsycastsE">
          <weight>0.55</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>VPE_Eltex</li>
                </thingDefs>
              </filter>
              <countRange>3~5</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

        <!-- Advanced components -->
        <li>
          <weight>0.45</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>ComponentSpacer</li>
                </thingDefs>
              </filter>
              <countRange>2~4</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

        <!-- Ultratech meds -->
        <li>
          <weight>0.45</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>MedicineUltratech</li>
                </thingDefs>
              </filter>
              <countRange>4~8</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Serums -->
        <li>
          <weight>0.25</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">VoidsightSerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">MetalbloodSerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">JuggernautSerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">MindNumbSerum</li>
                </thingDefs>
              </filter>
              <countRange>2~3</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
  		<!-- Shard -->
        <li MayRequire="Ludeon.RimWorld.Anomaly">
          <weight>0.025</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">Shard</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Books -->
        <li>
          <weight>0.7</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">Tome</li>
				  <li>TextBook</li>
				  <li>Schematic</li>
				  <li>Novel</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Alpha Books -->
        <li MayRequire="sarg.alphabooks">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <categories>
                  <li>Books</li>
                </categories>
                <disallowedThingDefs>
                  <li>ABooks_RuinedBook</li>
                  <li>ABooks_BurnedBook</li>
                </disallowedThingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Bionics -->		  
        <li>
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <categories>
                  <li>BodyPartsBionic</li>
                  <li>BodyPartsUltra</li>
                </categories>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
		<!-- Art -->
        <li>
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingDefs>
				  <li>SculptureSmall</li>
				  <li>SculptureLarge</li>
                </thingDefs>
				<disallowCheaperThan>100</disallowCheaperThan>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

        <!-- Techprint -->
        <li>
          <weight>0.2</weight> 
          <thingSetMaker Class="ThingSetMaker_Count">
            <fixedParams>
              <filter>
                <thingSetMakerTagsToAllow>
                  <li>Techprint</li>
                </thingSetMakerTagsToAllow>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Neurotrainer -->
        <li>
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Neurotrainer_Shooting</li>
                  <li>Neurotrainer_Melee</li>
                  <li>Neurotrainer_Construction</li>
                  <li>Neurotrainer_Mining</li>
                  <li>Neurotrainer_Cooking</li>
                  <li>Neurotrainer_Plants</li>
                  <li>Neurotrainer_Animals</li>
                  <li>Neurotrainer_Crafting</li>
                  <li>Neurotrainer_Artistic</li>
                  <li>Neurotrainer_Medicine</li>
                  <li>Neurotrainer_Social</li>
                  <li>Neurotrainer_Intellectual</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Special Rewards -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Apparel_PsychicInsanityLance</li>
                  <li>Apparel_PsychicShockLance</li>
                  <li>MechSerumHealer</li>
                  <li>MechSerumResurrector</li>
                  <li>OrbitalTargeterBombardment</li>
                  <li>OrbitalTargeterPowerBeam</li>
                  <li>PsychicAnimalPulser</li>
                  <li>PsychicEmanator</li>
                  <li>PsychicSoothePulser</li>
				  <li>ReinforcedBarrel</li>
                  <li>Shell_AntigrainWarhead</li>
                  <li>TechprofSubpersonaCore</li>
                  <li>TornadoGenerator</li>
                  <li>VanometricPowerCell</li>
                  <li MayRequire="Ludeon.RimWorld.Royalty">OrbitalTargeterMechCluster</li>
                  <li MayRequire="Ludeon.RimWorld.Biotech">DeathrestCapacitySerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">BiomutationPulser</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">Apparel_BiomutationLance</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
              <!-- Note: Weights must be balanced against the number of items in each category -->

              <!-- A category for core vanilla rewards, which should remain undilluted by future DLCs -->
              <li>
                <weight>0.15</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardCore</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
              		<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
              <!-- Three tiers of misc items, with different preference levels --> 
              <li>
                <weight>0.25</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardHighFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
              		<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
              <li>
                <weight>0.126</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardMidFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
					<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
              <li>
                <weight>0.05</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardLowFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
					<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
              <!-- Normal items, but in masterwork/legendary quality -->
              <li>
                <weight>0.076</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardQualitySuper</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
					<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
              <!-- Special royal items -->
              <!-- Most factions can't make these, so if we're using a faction that can we want
                   the probability of using them to be high. In addition, Empire usually gives
                   honor so if they're giving items we want it to be one of their special
                   items. -->
              <li MayRequire="Ludeon.RimWorld.Royalty">
                <weight>0.1</weight> 
                  <thingSetMaker Class="ThingSetMaker_Count">
                    <fixedParams>
                      <qualityGenerator>Super</qualityGenerator>
                      <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                      <filter>
                        <thingSetMakerTagsToAllow>
                          <li>ImplantEmpireRoyal</li>
                          <li>WeaponBladelink</li>
                        </thingSetMakerTagsToAllow>
                        <thingSetMakerTagsToDisallow>
                          <li>RewardNonEmpireFactionsOnly</li>
                        </thingSetMakerTagsToDisallow>
                        <tradeTagsToAllow>
                          <li>PsychicWeapon</li>
                          <li>PsychicApparel</li>
                        </tradeTagsToAllow>
                      </filter>
					  <countRange>1</countRange>
                    </fixedParams>
                  </thingSetMaker>
              </li>
		  
        <!-- Unique weapon -->
        <li MayRequire="Ludeon.RimWorld.Odyssey">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_Count">
            <fixedParams>
              <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingSetMakerTagsToAllow>
                  <li>UniqueWeapon</li>
                </thingSetMakerTagsToAllow>
              </filter>
			  <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Psylink Amplifier -->
        <li MayRequire="Ludeon.RimWorld.Royalty">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>PsychicAmplifier</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Psytrainers -->
        <li MayRequire="Ludeon.RimWorld.Royalty">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <categories>
                  <li>NeurotrainersPsycast</li>
                </categories>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Mechinator Stuff -->
        <li MayRequire="Ludeon.RimWorld.Biotech">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Mechlink</li>
                  <li>ControlSublink</li>
                  <li>ControlSublinkHigh</li>
                  <li>RemoteRepairer</li>
                  <li>MechFormfeeder</li>
                  <li>RemoteShielder</li>
                  <li>RepairProbe</li>
                  <li>SignalChip</li>
                  <li>PowerfocusChip</li>
				  <li>NanostructuringChip</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Research Appropriation -->
        <li MayRequire="GarryFlowers.ResearchAppropriation">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
				  <li>GarryFlowers_SpacerResearchData</li>
				  <li>GarryFlowers_UltraResearchData</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Vanilla Brewing Expanded -->
        <li MayRequire="VanillaExpanded.VBrewE">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingDefs>
				  <li>VBE_Ambrandy</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

      </options>
    </root>
  </ThingSetMakerDef>
	
	<!-- Malfunctioning Transport Pod -->
	<!--
		Note: Original loot was Resources, Drugs, Food and Corpses
			Seems comparable to a High Value Crate, given the original table I decided to make specialised towards "what would you take in a transport pod with you"
	-->
	
  <ThingSetMakerDef>
    <defName>Reward_MalfunctioningTransportPod</defName>
    <root Class="ThingSetMaker_RandomOption">
      <options>

        <!-- Random resources -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <categories>
                  <li>ResourcesRaw</li>
                  <li>Wools</li>
                  <li>Leathers</li>
                  <li>Textiles</li>
                </categories>
                <thingSetMakerTagsToDisallow>
                  <li>RewardStandardHighFreq</li>
                  <li>RewardStandardCore</li>
                </thingSetMakerTagsToDisallow>
              </filter>
              <countRange>45~75</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

        <!-- Drugs -->
              <li>
                <weight>1</weight>
                <thingSetMaker Class="ThingSetMaker_StackCount">
                  <fixedParams>
					<maxThingMarketValue>100</maxThingMarketValue>
                    <filter>
                      <categories>
                        <li>Drugs</li>
                      </categories>
                    </filter>
					<countRange>15~25</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
        <!-- Food -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_Nutrition">
            <fixedParams>
              <filter>
                <categories>
                  <li>Foods</li>
                </categories>
                <disallowWorsePreferability>RawBad</disallowWorsePreferability>
                <disallowWithComp>CompHatcher</disallowWithComp>
                <disallowInedibleByHuman>true</disallowInedibleByHuman>
              </filter>
              <totalNutritionRange>4~8</totalNutritionRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Alpha Crafts - Artisan Products -->		  
        <li MayRequire="sarg.alphacrafts">
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <categories>
                  <li>AC_ArtisanProducts</li>
                </categories>
              </filter>
              <countRange>6~12</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Luciferium -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
				  <li>Luciferium</li>
                </thingDefs>
              </filter>
              <countRange>6~12</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Medicine -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>MedicineIndustrial</li>
                  <li>MedicineUltratech</li>
				  <li>Penoxycyline</li>
                </thingDefs>
              </filter>
              <countRange>8~16</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Chemfuel -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Chemfuel</li>
                </thingDefs>
              </filter>
              <countRange>100~200</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

        <!-- Silver -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Silver</li>
                </thingDefs>
              </filter>
              <countRange>200~400</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Gold -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Gold</li>
                </thingDefs>
              </filter>
              <countRange>40~80</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Books -->
        <li>
          <weight>1</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingDefs>
                  <li MayRequire="Ludeon.RimWorld.Odyssey">Map</li>
				  <li>Novel</li>
				  <li>Schematic</li>
				  <li>TextBook</li>
				  <li MayRequire="Ludeon.RimWorld.Anomaly">Tome</li>
                </thingDefs>
              </filter>
              <countRange>2</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Special Rewards -->
        <li>
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
              <filter>
                <thingDefs>
                  <li>Apparel_PsychicInsanityLance</li>
                  <li>Apparel_PsychicShockLance</li>
                  <li>MechSerumHealer</li>
                  <li>MechSerumResurrector</li>
                  <li>OrbitalTargeterBombardment</li>
                  <li>OrbitalTargeterPowerBeam</li>
                  <li>PsychicAnimalPulser</li>
                  <li>PsychicEmanator</li>
                  <li>PsychicSoothePulser</li>
				  <li>ReinforcedBarrel</li>
                  <li>Shell_AntigrainWarhead</li>
                  <li>TechprofSubpersonaCore</li>
                  <li>TornadoGenerator</li>
                  <li>VanometricPowerCell</li>
                  <li MayRequire="Ludeon.RimWorld.Royalty">OrbitalTargeterMechCluster</li>
                  <li MayRequire="Ludeon.RimWorld.Biotech">DeathrestCapacitySerum</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">BiomutationPulser</li>
                  <li MayRequire="Ludeon.RimWorld.Anomaly">Apparel_BiomutationLance</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
              <!-- Note: Weights must be balanced against the number of items in each category -->

              <!-- A category for core vanilla rewards, which should remain undilluted by future DLCs -->
              <li>
                <weight>0.15</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardCore</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
              		<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
              <!-- Three tiers of misc items, with different preference levels --> 
              <li>
                <weight>0.25</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardHighFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
              		<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
              <li>
                <weight>0.126</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardMidFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
					<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
              <li>
                <weight>0.05</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardLowFreq</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
					<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
              <!-- Normal items, but in masterwork/legendary quality -->
              <li>
                <weight>0.076</weight>
                <thingSetMaker Class="ThingSetMaker_Count">
                  <fixedParams>
                    <qualityGenerator>Super</qualityGenerator>
                    <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                    <filter>
                      <thingSetMakerTagsToAllow>
                        <li>RewardStandardQualitySuper</li>
                      </thingSetMakerTagsToAllow>
                    </filter>
					<countRange>1</countRange>
                  </fixedParams>
                </thingSetMaker>
              </li>
		  
              <!-- Special royal items -->
              <!-- Most factions can't make these, so if we're using a faction that can we want
                   the probability of using them to be high. In addition, Empire usually gives
                   honor so if they're giving items we want it to be one of their special
                   items. -->
              <li MayRequire="Ludeon.RimWorld.Royalty">
                <weight>0.1</weight> 
                  <thingSetMaker Class="ThingSetMaker_Count">
                    <fixedParams>
                      <qualityGenerator>Super</qualityGenerator>
                      <allowNonStackableDuplicates>False</allowNonStackableDuplicates>
                      <filter>
                        <thingSetMakerTagsToAllow>
                          <li>ImplantEmpireRoyal</li>
                          <li>WeaponBladelink</li>
                        </thingSetMakerTagsToAllow>
                        <thingSetMakerTagsToDisallow>
                          <li>RewardNonEmpireFactionsOnly</li>
                        </thingSetMakerTagsToDisallow>
                        <tradeTagsToAllow>
                          <li>PsychicWeapon</li>
                          <li>PsychicApparel</li>
                        </tradeTagsToAllow>
                      </filter>
					  <countRange>1</countRange>
                    </fixedParams>
                  </thingSetMaker>
              </li>
		  
        <!-- Unique weapon -->
        <li MayRequire="Ludeon.RimWorld.Odyssey">
          <weight>0.076</weight>
          <thingSetMaker Class="ThingSetMaker_Count">
            <fixedParams>
              <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingSetMakerTagsToAllow>
                  <li>UniqueWeapon</li>
                </thingSetMakerTagsToAllow>
              </filter>
			  <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>
		  
        <!-- Vanilla Brewing Expanded -->
        <li MayRequire="VanillaExpanded.VBrewE">
          <weight>0.2</weight>
          <thingSetMaker Class="ThingSetMaker_StackCount">
            <fixedParams>
			  <qualityGenerator>Super</qualityGenerator>
              <filter>
                <thingDefs>
				  <li>VBE_Ambrandy</li>
                </thingDefs>
              </filter>
              <countRange>1</countRange>
            </fixedParams>
          </thingSetMaker>
        </li>

        <!-- Corpses -->
        <li>
          <weight>0.75</weight>
          <thingSetMaker Class="ThingSetMaker_Pawn">
            <pawnKind>TradersGuild_Citizen</pawnKind>
            <alive>false</alive>
            <corpseAgeRangeDays>5~10</corpseAgeRangeDays>
          </thingSetMaker>
        </li>
        <li>
          <weight>0.75</weight>
          <thingSetMaker Class="ThingSetMaker_Pawn">
            <pawnKind>TradersGuild_Gunner</pawnKind>
            <alive>false</alive>
            <corpseAgeRangeDays>5~10</corpseAgeRangeDays>
          </thingSetMaker>
        </li>
        <li>
          <weight>0.75</weight>
          <thingSetMaker Class="ThingSetMaker_Pawn">
            <pawnKind>TradersGuild_Heavy</pawnKind>
            <alive>false</alive>
            <corpseAgeRangeDays>5~10</corpseAgeRangeDays>
          </thingSetMaker>
        </li>

        <!-- Pawns -->
        <li>
          <weight>1.5</weight>
          <thingSetMaker Class="ThingSetMaker_Pawn">
            <pawnKind>Salvager_Pirate</pawnKind>
          </thingSetMaker>
        </li>

      </options>
    </root>
  </ThingSetMakerDef>

</Defs>